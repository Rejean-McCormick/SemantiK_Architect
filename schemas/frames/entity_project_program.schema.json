{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Abstract Wiki Architect â€“ Entity: project / program / initiative frame",
  "description": "Canonical semantic frame for projects, programmes, and initiatives used by Abstract Wiki Architect.",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "frame_type": {
      "type": "string",
      "description": "Canonical frame type name. Normalization code accepts several aliases, but JSON authored against this schema should prefer 'entity.project_or_program'.",
      "enum": [
        "entity.project_or_program",
        "project_program",
        "project_or_program"
      ]
    },

    "main_entity": {
      "description": "The primary project / programme / initiative entity described by this frame.",
      "$ref": "#/definitions/Entity"
    },

    "project_kind": {
      "type": [
        "string",
        "null"
      ],
      "description": "High-level kind of project or programme, e.g. 'space mission', 'research program', 'campaign', 'initiative'."
    },

    "sponsors_or_organizations": {
      "type": "array",
      "description": "Primary sponsoring or implementing organizations responsible for the project or programme.",
      "items": {
        "$ref": "#/definitions/Entity"
      }
    },

    "start_timespan": {
      "description": "Approximate start time of the project or programme.",
      "anyOf": [
        {
          "$ref": "#/definitions/TimeSpan"
        },
        {
          "type": "null"
        }
      ]
    },

    "end_timespan": {
      "description": "Approximate end time of the project or programme, if applicable.",
      "anyOf": [
        {
          "$ref": "#/definitions/TimeSpan"
        },
        {
          "type": "null"
        }
      ]
    },

    "budget": {
      "description": "Optional budget description (amount, currency, reference year).",
      "anyOf": [
        {
          "type": "object",
          "additionalProperties": true,
          "properties": {
            "amount": {
              "type": [
                "number",
                "null"
              ],
              "description": "Numeric amount for the total budget."
            },
            "currency": {
              "type": [
                "string",
                "null"
              ],
              "description": "ISO currency code or free-form currency label, e.g. 'USD', 'EUR'."
            },
            "year": {
              "type": [
                "integer",
                "null"
              ],
              "description": "Reference year for the budget figure."
            }
          }
        },
        {
          "type": "null"
        }
      ]
    },

    "attributes": {
      "type": "object",
      "description": "Free-form attribute bag for extensibility (e.g. phases, target_populations, indicators). Keys should be snake_case strings.",
      "additionalProperties": true
    }
  },

  "required": [
    "frame_type",
    "main_entity"
  ],

  "definitions": {
    "Entity": {
      "description": "Lightweight entity reference used inside frames. It mirrors semantics.common.entity_base.Entity.",
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "id": {
          "type": [
            "string",
            "null"
          ],
          "description": "Stable identifier, typically a Wikidata QID such as 'Q42'."
        },
        "name": {
          "type": "string",
          "description": "Canonical surface label for the entity in the working language."
        },
        "gender": {
          "type": [
            "string",
            "null"
          ],
          "description": "Optional gender code for human entities, e.g. 'male', 'female', 'unknown'."
        },
        "human": {
          "type": [
            "boolean",
            "null"
          ],
          "description": "Whether this entity is a human individual."
        },
        "entity_type": {
          "type": [
            "string",
            "null"
          ],
          "description": "Optional coarse type hint such as 'organization', 'project', 'programme'."
        },
        "lemmas": {
          "type": "array",
          "description": "Optional list of lemma strings associated with the entity, e.g. profession or role lemmas.",
          "items": {
            "type": "string"
          }
        },
        "features": {
          "type": "object",
          "description": "Arbitrary feature dictionary (e.g. grammatical, semantic, or domain-specific flags).",
          "additionalProperties": true
        },
        "extra": {
          "type": "object",
          "description": "Arbitrary metadata attached to the entity.",
          "additionalProperties": true
        }
      },
      "required": [
        "name"
      ]
    },

    "TimeSpan": {
      "description": "Coarse time span representation as used in semantics.common.entity_base.TimeSpan.",
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "start_year": {
          "type": [
            "integer",
            "null"
          ],
          "description": "Starting year, e.g. 1998."
        },
        "end_year": {
          "type": [
            "integer",
            "null"
          ],
          "description": "Optional end year, e.g. 2005."
        },
        "start_month": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "maximum": 12,
          "description": "Optional starting month (1-12)."
        },
        "start_day": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "maximum": 31,
          "description": "Optional starting day of month (1-31)."
        },
        "end_month": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "maximum": 12,
          "description": "Optional end month (1-12)."
        },
        "end_day": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "maximum": 31,
          "description": "Optional end day of month (1-31)."
        },
        "approximate": {
          "type": [
            "boolean",
            "null"
          ],
          "description": "Whether the dates are approximate or inferred."
        },
        "extra": {
          "type": "object",
          "description": "Arbitrary metadata related to the time span.",
          "additionalProperties": true
        }
      }
    }
  }
}
